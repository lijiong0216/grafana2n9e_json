[
  {
    "name": "lmt主机监控",
    "tags": "",
    "configs": "{\"var\": [{\"name\": \"env\", \"selected\": \"prod\", \"definition\": \"label_values(node_exporter_build_info,env)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"buisnessline\", \"selected\": \"lmt\", \"definition\": \"lmt\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"appname\", \"selected\": \"elasticsearch\", \"definition\": \"label_values(node_exporter_build_info{env='$env',buisnessline='$buisnessline'},appname)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"modulename\", \"selected\": \"log-es\", \"definition\": \"label_values(node_exporter_build_info{env='$env',buisnessline='$buisnessline',appname='$appname'},modulename)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"hostname\", \"selected\": \"lmt.elasticsearch.log-es.01.prod\", \"definition\": \"label_values(node_exporter_build_info{env='$env',buisnessline='$buisnessline',appname='$appname',modulename='$modulename'},hostname)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"maxmount\", \"selected\": \"\", \"definition\": \"query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{instance=~'$node',fstype=~\\\"ext4|xfs\\\"}) by (mountpoint))))\", \"multi\": false, \"reg\": \"\", \"allOption\": false}]}",
    "chart_groups": [
      {
        "name": "Default chart group",
        "weight": 0,
        "charts": [
          {
            "configs": "{\"name\": \"\\u7cfb\\u7edf\\u5e73\\u5747\\u8d1f\\u8f7d\", \"QL\": [{\"PromQL\": \"node_load1{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_load5{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_load15{hostname=~\\\"$hostname\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 0, \"i\": \"0\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"CPU\\u4f7f\\u7528\\u7387\\u3001\\u78c1\\u76d8\\u6bcf\\u79d2\\u7684I/O\\u64cd\\u4f5c\\u8017\\u8d39\\u65f6\\u95f4\\uff08%\\uff09\", \"QL\": [{\"PromQL\": \"avg(irate(node_cpu_seconds_total{hostname=~\\\"$hostname\\\",mode=\\\"system\\\"}[2m]))  by (hostname)\"}, {\"PromQL\": \"avg(irate(node_cpu_seconds_total{hostname=~\\\"$hostname\\\",mode=\\\"user\\\"}[2m]))  by (hostname)\"}, {\"PromQL\": \"avg(irate(node_cpu_seconds_total{hostname=~\\\"$hostname\\\",mode=\\\"idle\\\"}[2m])) by (hostname)\"}, {\"PromQL\": \"avg(irate(node_cpu_seconds_total{hostname=~\\\"$hostname\\\",mode=\\\"iowait\\\"}[2m])) by (hostname)\"}, {\"PromQL\": \"irate(node_disk_io_time_seconds_total{hostname=~\\\"$hostname\\\"}[2m])\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 6, \"y\": 0, \"i\": \"1\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u5185\\u5b58\\u4fe1\\u606f\", \"QL\": [{\"PromQL\": \"node_memory_MemTotal_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_MemTotal_bytes{hostname=~\\\"$hostname\\\"} - node_memory_MemAvailable_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_MemFree_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_Buffers_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_Cached_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_MemAvailable_bytes{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_memory_MemTotal_bytes{hostname=~\\\"$hostname\\\"} - (node_memory_Cached_bytes{hostname=~\\\"$hostname\\\"} + node_memory_Buffers_bytes{hostname=~\\\"$hostname\\\"} + node_memory_MemFree_bytes{hostname=~\\\"$hostname\\\"})\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 12, \"y\": 0, \"i\": \"2\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u78c1\\u76d8\\u8bfb\\u5199\\u901f\\u7387\\uff08IOPS\\uff09\", \"QL\": [{\"PromQL\": \"irate(node_disk_reads_completed_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"irate(node_disk_writes_completed_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"node_disk_io_now{hostname=~\\\"$hostname\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 2, \"i\": \"3\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u78c1\\u76d8\\u8bfb\\u5199\\u5bb9\\u91cf\\u5927\\u5c0f\", \"QL\": [{\"PromQL\": \"irate(node_disk_read_bytes_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"irate(node_disk_written_bytes_total{hostname=~\\\"$hostname\\\"}[2m])\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 6, \"y\": 2, \"i\": \"4\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u78c1\\u76d8IO\\u8bfb\\u5199\\u65f6\\u95f4\", \"QL\": [{\"PromQL\": \"irate(node_disk_io_time_seconds_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"irate(node_disk_io_time_weighted_seconds_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"irate(node_disk_read_time_seconds_total{hostname=~\\\"$hostname\\\"}[2m])\"}, {\"PromQL\": \"irate(node_disk_write_time_seconds_total{hostname=~\\\"$hostname\\\"}[2m])\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 12, \"y\": 2, \"i\": \"5\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u7f51\\u7edc\\u6d41\\u91cf\", \"QL\": [{\"PromQL\": \"irate(node_network_receive_bytes_total{hostname=~\\\"$hostname\\\",device!~'tap.*'}[5m])*8\"}, {\"PromQL\": \"irate(node_network_transmit_bytes_total{hostname=~\\\"$hostname\\\",device!~'tap.*'}[5m])*8\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 18, \"y\": 2, \"i\": \"6\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"TCP \\u8fde\\u63a5\\u60c5\\u51b5\", \"QL\": [{\"PromQL\": \"node_netstat_Tcp_CurrEstab{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_sockstat_TCP_tw{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"irate(node_netstat_Tcp_ActiveOpens{hostname=~\\\"$hostname\\\"}[1m])\"}, {\"PromQL\": \"irate(node_netstat_Tcp_PassiveOpens{hostname=~\\\"$hostname\\\"}[1m])\"}, {\"PromQL\": \"node_sockstat_TCP_alloc{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_sockstat_TCP_inuse{hostname=~\\\"$hostname\\\"}\"}, {\"PromQL\": \"node_sockstat_TCP_alloc{hostname=~\\\"$hostname\\\"}-node_netstat_Tcp_CurrEstab{hostname=~\\\"$hostname\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 4, \"i\": \"7\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"memory usage\", \"QL\": [{\"PromQL\": \"(1 - (node_memory_MemAvailable_bytes{hostname=~\\\"$hostname\\\"} / node_memory_MemTotal_bytes{hostname=~\\\"$hostname\\\"}))* 100\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 6, \"y\": 4, \"i\": \"8\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"CPU usage\", \"QL\": [{\"PromQL\": \"100-avg(irate(node_cpu_seconds_total{hostname=~\\\"$hostname\\\",mode=\\\"idle\\\"}[5m]) * 100) by (hostname)\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 12, \"y\": 4, \"i\": \"9\"}}",
            "weight": 0
          }
        ]
      }
    ]
  },
  {
    "name": "skywalking",
    "tags": "",
    "configs": "{\"var\": [{\"name\": \"appid\", \"selected\": \"ares-service\", \"definition\": \"label_values(skywalking_total,ApplyName)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"uri\", \"selected\": \"all\", \"definition\": \"label_values(skywalking_total{ApplyName=~\\\"$appid\\\"},InstanceName)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}]}",
    "chart_groups": [
      {
        "name": "服务层",
        "weight": 0,
        "charts": []
      },
      {
        "name": "URI层",
        "weight": 0,
        "charts": [
          {
            "configs": "{\"name\": \"\\u8c03\\u7528\\u603b\\u6570\", \"QL\": [{\"PromQL\": \"skywalking_total{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 0, \"i\": \"0\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u5931\\u8d25\\u6570\", \"QL\": [{\"PromQL\": \"skywalking_total{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}-skywalking_match{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 6, \"y\": 0, \"i\": \"1\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u6210\\u529f\\u7387\", \"QL\": [{\"PromQL\": \"skywalking_percentage{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}/100\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 12, \"y\": 0, \"i\": \"2\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u8c03\\u7528\\u8017\\u65f6\", \"QL\": [{\"PromQL\": \"skywalking_avg{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}, {\"PromQL\": \"skywalking_p50{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}, {\"PromQL\": \"skywalking_p75{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}, {\"PromQL\": \"skywalking_p90{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}, {\"PromQL\": \"skywalking_p99{valuetype=\\\"service\\\",ApplyName=~\\\"$appid\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 2, \"i\": \"3\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"uri\\u8c03\\u7528\\u8be6\\u60c5\", \"QL\": [{\"PromQL\": \"skywalking_total{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 6, \"y\": 2, \"i\": \"4\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"uri\\u8c03\\u7528\\u5931\\u8d25\\u8be6\\u60c5\", \"QL\": [{\"PromQL\": \"skywalking_total{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}-skywalking_match{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 12, \"y\": 2, \"i\": \"5\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"uri\\u6210\\u529f\\u7387\", \"QL\": [{\"PromQL\": \"skywalking_percentage{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}/100\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 18, \"y\": 2, \"i\": \"6\"}}",
            "weight": 0
          },
          {
            "configs": "{\"name\": \"\\u8c03\\u7528\\u8017\\u65f6\", \"QL\": [{\"PromQL\": \"skywalking_avg{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}, {\"PromQL\": \"skywalking_p50{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}, {\"PromQL\": \"skywalking_p75{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}, {\"PromQL\": \"skywalking_p90{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}, {\"PromQL\": \"skywalking_p99{valuetype=\\\"endpoint\\\",ApplyName=~\\\"$appid\\\",InstanceName=~\\\"$uri\\\"}\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 4, \"i\": \"7\"}}",
            "weight": 0
          }
        ]
      }
    ]
  },
  {
    "name": "业务日志",
    "tags": "",
    "configs": "{\"var\": [{\"name\": \"appid\", \"selected\": \"all\", \"definition\": \"label_values(app_except_error,appid)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}, {\"name\": \"ex_name\", \"selected\": \"all\", \"definition\": \"label_values(app_except_error{appid=~\\\"$appid\\\"},ex_name)\", \"multi\": false, \"reg\": \"\", \"allOption\": false}]}",
    "chart_groups": [
      {
        "name": "Default chart group",
        "weight": 0,
        "charts": [
          {
            "configs": "{\"name\": \"\\u5f02\\u5e38\\u6570\\u91cf\", \"QL\": [{\"PromQL\": \"sum(app_except_error{appid=~\\\"$appid\\\",ex_name=~\\\"$ex_name\\\"}) by (appid,ex_name)\"}], \"legend\": false, \"highLevelConifg\": {\"shared\": true, \"sharedSortDirection\": \"desc\", \"precision\": \"short\", \"formatUnit\": 1000}, \"version\": 1, \"layout\": {\"h\": 2, \"w\": 6, \"x\": 0, \"y\": 0, \"i\": \"0\"}}",
            "weight": 0
          }
        ]
      }
    ]
  }
]